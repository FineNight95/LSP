## Semaphore Threads

- Initialize a semaphore
- Define thread function - Process the argument and release **semaphore**.
- In main function - Set the common **id** variable to 1
- Initialize **semaphore** with 0 (busy)
- Start the first thread and pass **id**
- Wait the **semaphore**, set **id** to 2 and start the second thread with the new id
- Join both threads and destroy **semaphore**

### thread-semaphore.c
```
#include<pthread.h>
#inlude<semaphore.h>
sem_t sem;
void * thread_func(void *arg)
{
  int i;
  int loc_id = *(int *)arg.
  sem_post(&sem);
  ...
}
int main(int argc, char *argv[])
{
  int id, result;
  pthread thread1, thread2;
  
  id = 1;
  sem_init(&sem, 0, 0);
  result = pthread_create( &thread1, ...
  ...
  sem_wait(&sem);
  
  id = 2;
  result = pthread_create( &thread1, ...
  ...
 
  result = pthread_join(thread1, NULL);
  ...
  result = pthread_join(thread2, NULL);
  ...
  sem_destroy(&sem);
}
```